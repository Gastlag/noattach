! keepalive + state restore upon socket reconnect
file input layout

transfer refactor + download retrying
range transfers
